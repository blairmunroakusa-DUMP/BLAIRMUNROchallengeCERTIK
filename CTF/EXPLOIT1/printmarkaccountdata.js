// import data
const challengeData = require("./challenge1.json");
const setupABI = require("./setupABI.json");
const walletABI = require("./walletABI.json");

const ENDPOINT = challengeData["RPC endpoint"];
const SETUPACCT = challengeData["Setup contract"];
const ATTACKPRIKEY = challengeData["Private key"];

// setup
const Web3 = require("web3");

// connect
const web3 = new Web3(ENDPOINT);

async function main() {

	try {
		// get mark acccount
		const Setup = new web3.eth.Contract(setupABI, SETUPACCT);
		const MARKACCT = await Setup.methods.wallet().call();
		console.log("The mark's account address is ", MARKACCT);
		
		// get mark balance
		const MARKBALANCE = await web3.eth.getBalance(MARKACCT);
		console.log("The mark has " + web3.utils.fromWei(MARKBALANCE, "ether") + " ETH in their account.");

		// check if mark account is empty
		const isSolved = await Setup.methods.isSolved().call();
		console.log("Challenge solved? ", isSolved);

	} catch (error) {

		console.log(error);
	}
}

main();

